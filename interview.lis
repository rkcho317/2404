     1                                  
     2                                  extern printf
     3                                  extern scanf
     4                                  
     5                                  name_size equ 100
     6                                  
     7                                  global interview
     8                                  
     9                                  segment .data
    10                                  
    11 00000000 48656C6C6F2025732E-     info db "Hello %s. I am Ms Fenster. The interview will begin now.",10,0
    11 00000009 204920616D204D7320-
    11 00000012 46656E737465722E20-
    11 0000001B 54686520696E746572-
    11 00000024 766965772077696C6C-
    11 0000002D 20626567696E206E6F-
    11 00000036 772E0A00           
    12 0000003A 576F77212025352E33-     salary db "Wow! %5.3lf That's a lot of cash.", 10,0
    12 00000043 6C6620546861742773-
    12 0000004C 2061206C6F74206F66-
    12 00000055 20636173682E0A00   
    13 0000005D 57686F20646F20796F-     who db "Who do you think you are, Chris Sawyer (y or n)?: %c", 10,0
    13 00000066 75207468696E6B2079-
    13 0000006F 6F75206172652C2043-
    13 00000078 687269732053617779-
    13 00000081 6572202879206F7220-
    13 0000008A 6E293F3A2025630A00 
    14 00000093 416C72696768742E20-     elec1 db "Alright.  Now we will work on your electricity.", 10,0
    14 0000009C 204E6F772077652077-
    14 000000A5 696C6C20776F726B20-
    14 000000AE 6F6E20796F75722065-
    14 000000B7 6C6563747269636974-
    14 000000C0 792E0A00           
    15 000000C4 506C6561736520656E-     res1 db "Please enter the resistance of circuit #1 in ohms: %5.3lf", 10,0
    15 000000CD 746572207468652072-
    15 000000D6 6573697374616E6365-
    15 000000DF 206F66206369726375-
    15 000000E8 697420233120696E20-
    15 000000F1 6F686D733A2025352E-
    15 000000FA 336C660A00         
    16 000000FF 576861742069732074-     res2 db "What is the resistance of circuit #2 in ohms: %5.3lf", 10,0
    16 00000108 686520726573697374-
    16 00000111 616E6365206F662063-
    16 0000011A 697263756974202332-
    16 00000123 20696E206F686D733A-
    16 0000012C 2025352E336C660A00 
    17 00000135 54686520746F74616C-     res3 db "The total resistance is %5.3lf Ohms.", 10,0 
    17 0000013E 20726573697374616E-
    17 00000147 63652069732025352E-
    17 00000150 336C66204F686D732E-
    17 00000159 0A00               
    18 0000015B 5765726520796F7520-     compy db "Were you a computer science major (y or n)?: %c ",10, 0
    18 00000164 6120636F6D70757465-
    18 0000016D 7220736369656E6365-
    18 00000176 206D616A6F72202879-
    18 0000017F 206F72206E293F3A20-
    18 00000188 2563200A00         
    19 0000018D 5468616E6B20796F75-     thanks db "Thank you. Please follow the exit signs to the front desk.", 10,0
    19 00000196 2E20506C6561736520-
    19 0000019F 666F6C6C6F77207468-
    19 000001A8 652065786974207369-
    19 000001B1 676E7320746F207468-
    19 000001BA 652066726F6E742064-
    19 000001C3 65736B2E0A00       
    20                                  
    21                                  ;name db "%s", 0
    22                                  ;salry db "%lf", 0
    23                                  
    24 000001C9 256300                  chrisq db "%c", 0  ;answer to the question if you are Chris Sawyer
    25                                  
    26 000001CC 256C6600                resans1 db "%lf",0 ;answer to res1
    27 000001D0 256C6600                resans2 db "%lf",0 ;answer to res2
    28 000001D4 256C6600                resans3 db "%lf",0 ;answer to res3
    29                                  
    30 000001D8 256300                  compyq db "%c",0 ;answer to computer science major question
    31                                  
    32                                  segment .bss
    33                                  
    34                                  
    35                                  segment .text
    36                                  interview:
    37                                  
    38                                  ;Backup registers
    39                                  
    40 00000000 55                      push rbp
    41 00000001 4889E5                  mov rbp, rsp
    42 00000004 57                      push rdi
    43 00000005 56                      push rsi
    44 00000006 52                      push rdx
    45 00000007 51                      push rcx
    46 00000008 4150                    push r8
    47 0000000A 4151                    push r9
    48 0000000C 4152                    push r10
    49 0000000E 4153                    push r11
    50 00000010 4154                    push r12
    51 00000012 4155                    push r13
    52 00000014 4156                    push r14
    53 00000016 4157                    push r15
    54 00000018 53                      push rbx
    55 00000019 9C                      pushf
    56                                  
    57 0000001A 6A00                    push qword 0
    58                                  
    59                                   ;Move values from cpp to stack
    60 0000001C 4989FF                   mov r15, rdi ;string Name
    61 0000001F F2440F10F8               movsd xmm15, xmm0 ;double Salary
    62                                  
    63                                  ;Print "who are you?" with name
    64 00000024 6A00                    push qword 0
    65 00000026 B800000000              mov qword rax,0
    66 0000002B 48BF-                   mov qword rdi, info
    66 0000002D [0000000000000000] 
    67 00000035 4C89FE                  mov qword rsi, r15
    68 00000038 E8(00000000)            call printf
    69 0000003D 58                      pop rax
    70                                  
    71                                  ;Print "wow that's a lot of cash!" with salary
    72 0000003E 6A00                    push qword 0
    73 00000040 B800000000              mov qword rax, 0
    74 00000045 48BF-                   mov rdi, salary
    74 00000047 [3A00000000000000] 
    75 0000004F 4889E6                  mov rsi, rsp
    76 00000052 E8(00000000)            call printf 
    77 00000057 F2440F103C24            movsd xmm15, [rsp]
    78 0000005D 58                      pop rax
    79                                  
    80                                  
    81                                  ;Print "Are you Chris Sawyer?" 
    82 0000005E 6A00                    push qword 0
    83 00000060 B800000000              mov qword rax, 0
    84 00000065 48BF-                   mov rdi, who
    84 00000067 [5D00000000000000] 
    85 0000006F E8(00000000)            call printf
    86 00000074 58                      pop rax
    87                                  
    88                                  ;Answer the Chris Sawyer Question
    89 00000075 6A00                    push qword 0
    90 00000077 B800000000              mov rax,0
    91 0000007C 48BF-                   mov rdi, chrisq
    91 0000007E [C901000000000000] 
    92 00000086 4889E7                  mov rdi, rsp
    93 00000089 E8(00000000)            call scanf 
    94                                  
    95                                  
    96                                  ;===BEGIN ELECTRICITY TEST===
    97                                  
    98                                      
    99 0000008E 58                       pop rax
   100 0000008F F2410F10C7               movsd xmm0,xmm15 ;Sends result to the main.cpp 
   101 00000094 9D                       popf                                                 
   102 00000095 5B                       pop rbx                                                     
   103 00000096 415F                     pop r15                                                     
   104 00000098 415E                     pop r14                                                      
   105 0000009A 415D                     pop r13                                                      
   106 0000009C 415C                     pop r12                                                      
   107 0000009E 415B                     pop r11                                                     
   108 000000A0 415A                     pop r10                                                     
   109 000000A2 4159                     pop r9                                                      
   110 000000A4 4158                     pop r8                                                      
   111 000000A6 59                       pop rcx                                                     
   112 000000A7 5A                       pop rdx                                                     
   113 000000A8 5E                       pop rsi                                                     
   114 000000A9 5F                       pop rdi                                                     
   115 000000AA 5D                       pop rbp
   116                                  
   117                                  
   118                                     
   119 000000AB C3                      ret
   120                                  
